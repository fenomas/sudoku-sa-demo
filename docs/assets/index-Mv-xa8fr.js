(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const pt=(t,e)=>t===e,F={equals:pt};let gt=nt;const S=1,N=2,J={owned:null,cleanups:null,context:null,owner:null};var p=null;let D=null,mt=null,a=null,d=null,A=null,O=0;function yt(t,e){const n=a,r=p,i=t.length===0,s=e===void 0?r:e,l=i?J:{owned:null,cleanups:null,context:s?s.context:null,owner:s},o=i?t:()=>t(()=>T(()=>I(l)));p=l,a=null;try{return M(o,!0)}finally{a=n,p=r}}function E(t,e){e=e?Object.assign({},F,e):F;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),Z(n,i));return[Y.bind(n),r]}function x(t,e,n){const r=tt(t,e,!1,S);K(r)}function k(t,e,n){n=n?Object.assign({},F,n):F;const r=tt(t,e,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,K(r),Y.bind(r)}function T(t){if(a===null)return t();const e=a;a=null;try{return t()}finally{a=e}}function Y(){if(this.sources&&this.state)if(this.state===S)K(this);else{const t=d;d=null,M(()=>B(this),!1),d=t}if(a){const t=this.observers?this.observers.length:0;a.sources?(a.sources.push(this),a.sourceSlots.push(t)):(a.sources=[this],a.sourceSlots=[t]),this.observers?(this.observers.push(a),this.observerSlots.push(a.sources.length-1)):(this.observers=[a],this.observerSlots=[a.sources.length-1])}return this.value}function Z(t,e,n){let r=t.value;return(!t.comparator||!t.comparator(r,e))&&(t.value=e,t.observers&&t.observers.length&&M(()=>{for(let i=0;i<t.observers.length;i+=1){const s=t.observers[i],l=D&&D.running;l&&D.disposed.has(s),(l?!s.tState:!s.state)&&(s.pure?d.push(s):A.push(s),s.observers&&st(s)),l||(s.state=S)}if(d.length>1e6)throw d=[],new Error},!1)),e}function K(t){if(!t.fn)return;I(t);const e=O;bt(t,t.value,e)}function bt(t,e,n){let r;const i=p,s=a;a=p=t;try{r=t.fn(e)}catch(l){return t.pure&&(t.state=S,t.owned&&t.owned.forEach(I),t.owned=null),t.updatedAt=n+1,rt(l)}finally{a=s,p=i}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?Z(t,r):t.value=r,t.updatedAt=n)}function tt(t,e,n,r=S,i){const s={fn:t,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:p,context:p?p.context:null,pure:n};return p===null||p!==J&&(p.owned?p.owned.push(s):p.owned=[s]),s}function et(t){if(t.state===0)return;if(t.state===N)return B(t);if(t.suspense&&T(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<O);)t.state&&e.push(t);for(let n=e.length-1;n>=0;n--)if(t=e[n],t.state===S)K(t);else if(t.state===N){const r=d;d=null,M(()=>B(t,e[0]),!1),d=r}}function M(t,e){if(d)return t();let n=!1;e||(d=[]),A?n=!0:A=[],O++;try{const r=t();return vt(n),r}catch(r){n||(A=null),d=null,rt(r)}}function vt(t){if(d&&(nt(d),d=null),t)return;const e=A;A=null,e.length&&M(()=>gt(e),!1)}function nt(t){for(let e=0;e<t.length;e++)et(t[e])}function B(t,e){t.state=0;for(let n=0;n<t.sources.length;n+=1){const r=t.sources[n];if(r.sources){const i=r.state;i===S?r!==e&&(!r.updatedAt||r.updatedAt<O)&&et(r):i===N&&B(r,e)}}}function st(t){for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];n.state||(n.state=N,n.pure?d.push(n):A.push(n),n.observers&&st(n))}}function I(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),r=t.sourceSlots.pop(),i=n.observers;if(i&&i.length){const s=i.pop(),l=n.observerSlots.pop();r<i.length&&(s.sourceSlots[l]=r,i[r]=s,n.observerSlots[r]=l)}}if(t.owned){for(e=t.owned.length-1;e>=0;e--)I(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function At(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function rt(t,e=p){throw At(t)}function $(t,e){return T(()=>t(e||{}))}function St(t,e,n){let r=n.length,i=e.length,s=r,l=0,o=0,u=e[i-1].nextSibling,f=null;for(;l<i||o<s;){if(e[l]===n[o]){l++,o++;continue}for(;e[i-1]===n[s-1];)i--,s--;if(i===l){const c=s<r?o?n[o-1].nextSibling:n[s-o]:u;for(;o<s;)t.insertBefore(n[o++],c)}else if(s===o)for(;l<i;)(!f||!f.has(e[l]))&&e[l].remove(),l++;else if(e[l]===n[s-1]&&n[o]===e[i-1]){const c=e[--i].nextSibling;t.insertBefore(n[o++],e[l++].nextSibling),t.insertBefore(n[--s],c),e[i]=n[s]}else{if(!f){f=new Map;let m=o;for(;m<s;)f.set(n[m],m++)}const c=f.get(e[l]);if(c!=null)if(o<c&&c<s){let m=l,w=1,X;for(;++m<i&&m<s&&!((X=f.get(e[m]))==null||X!==c+w);)w++;if(w>c-o){const dt=e[l];for(;o<c;)t.insertBefore(n[o++],dt)}else t.replaceChild(n[o++],e[l++])}else l++;else e[l++].remove()}}}const z="_$DX_DELEGATE";function _t(t,e,n,r={}){let i;return yt(s=>{i=s,e===document?t():b(e,t(),e.firstChild?null:void 0,n)},r.owner),()=>{i(),e.textContent=""}}function v(t,e,n){let r;const i=()=>{const l=document.createElement("template");return l.innerHTML=t,n?l.content.firstChild.firstChild:l.content.firstChild},s=e?()=>T(()=>document.importNode(r||(r=i()),!0)):()=>(r||(r=i())).cloneNode(!0);return s.cloneNode=s,s}function it(t,e=window.document){const n=e[z]||(e[z]=new Set);for(let r=0,i=t.length;r<i;r++){const s=t[r];n.has(s)||(n.add(s),e.addEventListener(s,wt))}}function ot(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function lt(t,e,n,r){if(r)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const i=n[0];t.addEventListener(e,n[0]=s=>i.call(t,n[1],s))}else t.addEventListener(e,n)}function $t(t,e,n){if(!e)return n?ot(t,"style"):e;const r=t.style;if(typeof e=="string")return r.cssText=e;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),e||(e={});let i,s;for(s in n)e[s]==null&&r.removeProperty(s),delete n[s];for(s in e)i=e[s],i!==n[s]&&(r.setProperty(s,i),n[s]=i);return n}function Et(t,e,n){return T(()=>t(e,n))}function b(t,e,n,r){if(n!==void 0&&!r&&(r=[]),typeof e!="function")return L(t,e,r,n);x(i=>L(t,e(),i,n),r)}function wt(t){const e=`$$${t.type}`;let n=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==n&&Object.defineProperty(t,"target",{configurable:!0,value:n}),Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[e];if(r&&!n.disabled){const i=n[`${e}Data`];if(i!==void 0?r.call(n,i,t):r.call(n,t),t.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function L(t,e,n,r,i){for(;typeof n=="function";)n=n();if(e===n)return n;const s=typeof e,l=r!==void 0;if(t=l&&n[0]&&n[0].parentNode||t,s==="string"||s==="number")if(s==="number"&&(e=e.toString()),l){let o=n[0];o&&o.nodeType===3?o.data!==e&&(o.data=e):o=document.createTextNode(e),n=_(t,n,r,o)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e;else if(e==null||s==="boolean")n=_(t,n,r);else{if(s==="function")return x(()=>{let o=e();for(;typeof o=="function";)o=o();n=L(t,o,n,r)}),()=>n;if(Array.isArray(e)){const o=[],u=n&&Array.isArray(n);if(j(o,e,n,i))return x(()=>n=L(t,o,n,r,!0)),()=>n;if(o.length===0){if(n=_(t,n,r),l)return n}else u?n.length===0?Q(t,o,r):St(t,n,o):(n&&_(t),Q(t,o));n=o}else if(e.nodeType){if(Array.isArray(n)){if(l)return n=_(t,n,r,e);_(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function j(t,e,n,r){let i=!1;for(let s=0,l=e.length;s<l;s++){let o=e[s],u=n&&n[s],f;if(!(o==null||o===!0||o===!1))if((f=typeof o)=="object"&&o.nodeType)t.push(o);else if(Array.isArray(o))i=j(t,o,u)||i;else if(f==="function")if(r){for(;typeof o=="function";)o=o();i=j(t,Array.isArray(o)?o:[o],Array.isArray(u)?u:[u])||i}else t.push(o),i=!0;else{const c=String(o);u&&u.nodeType===3&&u.data===c?t.push(u):t.push(document.createTextNode(c))}}return i}function Q(t,e,n=null){for(let r=0,i=e.length;r<i;r++)t.insertBefore(e[r],n)}function _(t,e,n,r){if(n===void 0)return t.textContent="";const i=r||document.createTextNode("");if(e.length){let s=!1;for(let l=e.length-1;l>=0;l--){const o=e[l];if(i!==o){const u=o.parentNode===t;!s&&!l?u?t.replaceChild(i,o):t.insertBefore(i,n):u&&o.remove()}else s=!0}}else t.insertBefore(i,n);return[i]}const[Ct,xt]=E({nums:[0],errs:[!1]}),[q,Tt]=E(1),g=3,y=g*g,Mt=y*y,h=Array.from(Array(Mt)).map(()=>({value:0,isErr:!1,isFixed:!1})),P=(t=0,e=0)=>t*y+e,Pt=(t=0,e=0)=>h[P(t,e)],C=(t,e)=>{if(e===0)return 1;const n=Math.floor(t/y),r=t%y;let i=0;for(let o=0;o<y;o++)o!==r&&h[P(n,o)].value===e&&i++,o!==n&&h[P(o,r)].value===e&&i++;const s=Math.floor(n/g)*g,l=Math.floor(r/g)*g;for(let o=0;o<g;o++)for(let u=0;u<g;u++){const f=P(s+o,l+u);t!==f&&h[f].value===e&&i++}return i},R=()=>{let t=0;h.forEach((e,n)=>{const r=C(n,e.value);e.isErr=r>0,t+=r}),Tt(t),xt({nums:h.map(e=>e.value),errs:h.map(e=>e.isErr&&!e.isFixed)})};var Ft=v("<input>");const Nt=(t=0,e=0,n=!1)=>{const i=t%g===g-1?20:2;return{width:"2rem",height:"2rem",margin:`2px ${e%g===g-1?20:2}px ${i}px 2px`,"text-align":"center","font-size":"220%","font-family":"monospace",border:n?"2px solid #a00":"","background-color":n?"#a005":""}},Bt=(t,e,n,r)=>{let i;const s=(l=0,o=0,u="")=>{const f=Pt(l,o),c=parseInt(u);f.value=c>0?c:0,f.isFixed=c>0,R()};return(()=>{var l=Ft();l.addEventListener("blur",()=>{s(t,e,i.value)}),l.$$input=()=>{s(t,e,i.value)},l.$$click=()=>{i.value=""};var o=i;return typeof o=="function"?Et(o,l):i=l,ot(l,"id",`cell-${t}-${e}`),l.value=n>0?n:"",x(u=>$t(l,Nt(t,e,r),u)),l})()};it(["click","input"]);var U={};Object.defineProperty(U,"__esModule",{value:!0});var ut=U.AnnealingSolver=void 0;class G{methods;_iterCt;_learnedCt;_shouldAbort;iterationBudget=1e4;k=0;learnedK=0;coolingFunction;constructor(e){this.methods=e,this.learnedK=0,this._iterCt=0,this._learnedCt=0,this._shouldAbort=!1,this.coolingFunction=G.TEMP_EXPONENTIAL}reset(){this._iterCt=0,this.learnedK=0,this._learnedCt=0,this._shouldAbort=!1}abort(){this._shouldAbort=!0}get currentTemperature(){return this.coolingFunction(this._iterCt,this.iterationBudget)}static TEMP_LINEAR=(e,n)=>1-.99*(e/n);static TEMP_EXPONENTIAL=(e,n)=>Math.pow(.01,e/n);run(e,n=100){const{chooseMove:r,applyMove:i}=this.methods,s=this._iterCt+n;let l=0;for(;this._iterCt<s;){const{move:o,errorDelta:u}=r(e,this._iterCt);let f=u<=0;if(!f){const c=this.coolingFunction(this._iterCt,this.iterationBudget);if(c>0){const m=this.k>0?this.k:this.learnK(u),w=Math.exp(-m*u/c);f=Math.random()<w}}if(f&&(e=i(e,o),l++),this._iterCt++,this._shouldAbort)break}return{state:e,numMoves:l}}learnK(e){if(this._iterCt>.4*this.iterationBudget)return this.learnedK;const n=-Math.log(.7)/e;this._learnedCt++;const r=1/this._learnedCt;return this.learnedK=n*r+this.learnedK*(1-r),this.learnedK}}ut=U.AnnealingSolver=G;const[H,V]=E(!1),[Lt,ft]=E(0),[Ot,Kt]=E(1),[It,Dt]=E(1);let ct=(t=0)=>{};const kt=()=>{ft(0),ct=qt(),V(!0),at()},jt=()=>{V(!1)},at=()=>{ct(),R(),q()===0&&V(!1),H()&&requestAnimationFrame(at)},W=(t=1)=>Math.floor(Math.random()*t),qt=()=>{const t=Array.from(Array(y)).map((s,l)=>Array.from(Array(y)).fill(l+1));h.forEach(s=>{s.isFixed&&t[s.value-1].pop()});const e=t.flat(),n=h.map((s,l)=>s.isFixed?-1:l).filter(s=>s>=0);n.forEach((s,l)=>{h[s].value=e[l]});const r=new ut({chooseMove:s=>{let[l,o]=[W(s.length),W(s.length)];l===o&&(o=(l+1)%s.length);const[u,f]=[n[l],n[o]],c=C(u,s[l])+C(f,s[o]);return{errorDelta:C(u,s[o])+C(f,s[l])-c,move:[l,o]}},applyMove:(s,[l,o])=>([s[l],s[o]]=[s[o],s[l]],h[n[l]].value=s[l],h[n[o]].value=s[l],s)});r.iterationBudget=1e6;const i=1e5;return()=>{r.run(e,i),ft(s=>s+i),Kt(r.currentTemperature),Dt(r.k||r.learnedK)}},Rt={Empty:()=>"",Easy:()=>"   26 7 168  7  9 19   45  82 1   4   46 29   5   3 28  93   74 4  5  367 3 18",Hard:()=>"7   1  9  9     8    49     8  316  2       16 38 75 9 7 96  1 4    57 3      928",Random:()=>h.map(()=>Math.floor(Math.random()*15)-5).map(t=>t<1?" ":""+t).join("")},Ut=t=>{Rt[t]().padEnd(h.length," ").slice(0,h.length).split("").forEach((e,n)=>h[n].value=+e||0),R(),h.forEach(e=>e.isFixed=e.value>0&&!e.isErr)};var ht=v("<div>"),Gt=v("<button>"),Ht=v("<button>Solve!"),Vt=v("<button>Stop"),Xt=v("<div><span>Iterations: </span><br><span>Error: </span><br><span>K: </span><br><span>Temp: "),zt=v("<h1>Done!");const Qt=()=>{const t=Array.from(Array(y));return t.map((e,n)=>(()=>{var r=ht();return b(r,()=>t.map((i,s)=>{const l=n*y+s,o=Ct(),u=o.nums[l],f=o.errs[l];return Bt(n,s,u,f)})),r})())},Wt=()=>{const t=["Empty","Easy","Hard","Random"];return(()=>{var e=ht();return b(e,()=>t.map(n=>(()=>{var r=Gt();return r.$$click=()=>Ut(n),b(r,n),x(()=>r.disabled=H()),r})())),e})()},Jt=()=>(()=>{var t=Ht();return lt(t,"click",kt,!0),t.style.setProperty("font-size","150%"),t})(),Yt=()=>(()=>{var t=Vt();return lt(t,"click",jt,!0),t})(),Zt=()=>(()=>{var t=Xt(),e=t.firstChild;e.firstChild;var n=e.nextSibling,r=n.nextSibling;r.firstChild;var i=r.nextSibling,s=i.nextSibling;s.firstChild;var l=s.nextSibling,o=l.nextSibling;return o.firstChild,b(e,Lt,null),b(r,q,null),b(s,()=>It().toFixed(3),null),b(o,()=>Ot().toFixed(8),null),t})(),te=()=>[$(Qt,{}),$(Wt,{}),k((()=>{var t=k(()=>q()===0);return()=>t()?zt():(()=>{var e=k(()=>!!H());return()=>e()?$(Yt,{}):$(Jt,{})})()})()),$(Zt,{})];it(["click"]);var ee=v("<main><h2>Sudoku SA Demo!");const ne=document.getElementById("root");_t(()=>(()=>{var t=ee();return t.firstChild,b(t,$(te,{}),null),t})(),ne);
//# sourceMappingURL=index-Mv-xa8fr.js.map
